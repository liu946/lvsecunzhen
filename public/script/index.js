// Generated by CoffeeScript 1.9.3
var d, data, getlist, html, i, len;

getlist = function(url) {
  return $.ajax({
    url: url,
    dataType: 'json',
    async: false
  }).done(function(data) {
    return data;
  }).fail(function() {
    return alert("获取失败！请刷新页面");
  }).always(function() {
    return console.log("complete");
  });
};

data = getlist("/input/get/" + modelname).responseJSON;

console.log(data);

html = '';

for (i = 0, len = data.length; i < len; i++) {
  d = data[i];
  html += "<div class='container'> <div class='id'><p>" + d.id + "</p></div>";
  if (d.ZhenMingChen !== void 0) {
    html += "<div class='title'><p>" + d.ZhenMingChen + "</p></div>";
  }
  if (d.MingChen !== void 0) {
    html += "<div class='title'><p>" + d.MingChen + "</p></div>";
  }
  if (d.WenJuanBianHao !== void 0) {
    html += "<div class='title'><p>" + d.WenJuanBianHao + "</p></div>";
  }
  if (d.ZhenQuHuoCunZhuang !== void 0) {
    if (d.ZhenQuHuoCunZhuang === 1) {
      html += "<div class='title'><p>镇区</p></div>";
    }
    if (d.ZhenQuHuoCunZhuang === 2) {
      html += "<div class='title'><p>乡村</p></div>";
    }
  }
  html += "<div class='exchange'><a href='/input/edit/" + modelname + "/" + d.id + "'>修改</a></div> </div>";
}

$('#formlist .contentlist').append(html);

$('#addform').on('click', function() {
  return location.href = "/input/new/" + modelname;
});
